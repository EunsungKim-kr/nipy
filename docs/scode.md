<p align="center">
    <img src="https://user-images.githubusercontent.com/23215270/74083252-335ccb00-4aa5-11ea-9045-3d87de5c70b2.png" width="500">
    <h1 align="center" style="font-size: 3em;">NiPy Docs</h1>
    <p align="center">
        <img src="https://img.shields.io/badge/python-v3.7-blue">
        <img src="https://img.shields.io/badge/license-MIT-green">
        <img src="https://img.shields.io/badge/test-passing-brightgreen">
    </p>
    <p><b>NiPy (Neis with ptrhon)</b>는 나이스와 연관된 수 많은 기능들을 제공합니다. Scode (학교 코드 불러오기) 또한 그 중 하나입니다. 이번 문서에서는 Scode에 대한 간단한 설명과 더불어 사용방법을 알려드립니다. 이번 문서를 읽고 숙지하신 후 여러분 만의 프로그램을 만들어 보시기 바랍니다.</p>
</p>

<br/>

## 일러두기

NiPy Scode를 활용하시면 학교 알리미 서버를 통해 나이스 상에서 활용되는 학교 구분 코드를 확인하실 수 있습니다. 단 NiPy 고유의 서버를 활용하는 것이 아니기에 학교 알리미 측에서 홈페이지를 개편하거나 저에게 서버 사용 중단을 요청하면 더 이상 서비스 되지 않을 수 있는 점 참고 바랍니다.

## 시작하기

NiPy Scode는 다음과 같은 모듈을 사용하기에 반드시 존재하여야 합니다.

- requests
- json
- bs4 (Beautifulsoup)

위의 모듈들의 설치가 완료되면 본 NiPy의 깃허브 저장소에서 `nipy.py` 파일을 다운받아 원하는 프로젝트가 있는 폴더에 설치하시면 됩니다.

## Step.0 기초정보 설정 하기

NiPy Scode를 활용하기 위해선 우선 기초정보를 설정하여야 합니다. 기초정보는 찾을 학교가 위치한 지역과 학교의 이름입니다.

```python
# 경기도내에 있는 김포이라는 이름을 가진 학교를 조회합니다.
l = nipy.Scode("김포", "경기")
```

위의 예시는 l 이라는 변수를 Scode 활용자로서 지정하며 경기도내에 있는 김포라는 이름을 가진 학교를 조회하도록 합니다.

| 매개변수(예시) | 이름     | 설명                                                                                                                        |
| -------------- | -------- | --------------------------------------------------------------------------------------------------------------------------- |
| 김포           | 학교이름 | 조회할 학교 이름을 입력합니다.<br/>문자열 자료형입니다.                                                                     |
| 경기           | 지역명   | 학교가 소재한 지역이름입니다.<br/>시, 도를 제외한 2자리 문자열 자료형입니다.<br/>설정을 원치 않을 경우 0으로 두어도 됩니다. |

## Step.1 학교 목록 불러오기

NiPy Scode를 활용하면 학교 코드 외에도 학교 이름, 주소를 포함한 정보를 받아올 수 있습니다. 학교 목록을 불러오는 함수는 `codefind()` 입니다.

```python
# 기본 설정된 학교 중에서 중등 교육기관을 출력합니다.
print(l.codefind("2"))
```

위의 예제는 경기도내에 있는 김포라는 이름을 가진 학교 중에 중등 교육기관을 출력하는 예제입니다.

| 매개변수(예시) | 이름 | 설명                                                                                                                                    |
| -------------- | ---- | --------------------------------------------------------------------------------------------------------------------------------------- |
| 2              | 교급 | 조회할 학교의 교급을 의미합니다.<br/>1자리 문자열 자료형입니다.<br/>(1) 초등학교, (2) 중학교, (3) 고등학교, (4) 특수학교 , (0) 모든학교 |

위의 매개변수를 올바르게 입력하시면 다음과 같은 결과를 받으실 수 있습니다.

```python
[{'NAME': '김포신곡중학교', 'ADDRESS': '경기도 김포시 고촌읍 수기로 54-20', 'CODE': 'J100005681'},
{'NAME': '김포여자중학교', 'ADDRESS': '경기도 김포시 봉화로 37-15', 'CODE': 'J100001488'},
{'NAME': '김포중학교', 'ADDRESS': '경기도 김포시 봉화로 83', 'CODE': 'J100001490'},
{'NAME': '김포한가람중학교', 'ADDRESS': '경기도 김포시 김포한강9로 140', 'CODE': 'J100006783'}]
```

반환되는 결과는 리스트 형태이며 0번부터 접근하실 수 있습니다.  
학교 정보는 딕셔너리 형태로 반환되며 NAME으로 학교이름, ADDRESS로 주소, CODE로 학교코드를 불러오실 수 있습니다.

## 에러코드

NiPy가 실행되던 중 문제가 발생하면 다음과 같은 에러코드가 반환됩니다.

| 에러코드            | 제목           | 설명                                                                                                |
| ------------------- | -------------- | --------------------------------------------------------------------------------------------------- |
| SERVER ERROR        | 서버 접속 실패 | 학교알리미에 접속하지 못하였습니다.<br/>점검중이거나 교육청 측에서 차단할 경우 발생하는 문제입니다. |
| CAN NOT FIND SCHOOL | 학교 검색 실패 | 입력하신 학교명을 가진 초·중·고·특수학교가 존재하지 않습니다.<br/>지역 설정 확인 후 진행해 주세요.  |
